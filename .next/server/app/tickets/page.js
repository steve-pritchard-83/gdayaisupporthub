(()=>{var e={};e.id=988,e.ids=[988],e.modules={5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},5528:e=>{"use strict";e.exports=require("next/dist\\client\\components\\action-async-storage.external.js")},1877:e=>{"use strict";e.exports=require("next/dist\\client\\components\\request-async-storage.external.js")},5319:e=>{"use strict";e.exports=require("next/dist\\client\\components\\static-generation-async-storage.external.js")},7310:e=>{"use strict";e.exports=require("url")},4652:(e,s,t)=>{"use strict";t.r(s),t.d(s,{GlobalError:()=>l.a,__next_app__:()=>x,originalPathname:()=>u,pages:()=>d,routeModule:()=>m,tree:()=>o});var r=t(7096),a=t(6132),i=t(7284),l=t.n(i),n=t(2564),c={};for(let e in n)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(c[e]=()=>n[e]);t.d(s,c);let o=["",{children:["tickets",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,118)),"C:\\Cursor Development\\supporthubv2\\app\\tickets\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,4851)),"C:\\Cursor Development\\supporthubv2\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,9291,23)),"next/dist/client/components/not-found-error"]}],d=["C:\\Cursor Development\\supporthubv2\\app\\tickets\\page.tsx"],u="/tickets/page",x={require:t,loadChunk:()=>Promise.resolve()},m=new r.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/tickets/page",pathname:"/tickets",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:o}})},6708:(e,s,t)=>{Promise.resolve().then(t.bind(t,4919))},4919:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>ViewTicketsPage});var r=t(784),a=t(9885),i=t(1440),l=t.n(i),n=t(5441),c=t(1831),o=t(2032),d=t(9803),u=t(2385),x=t(9518),m=t(2029),p=t(517),h=t(3680),g=t(9490),j=t(7676),v=t(868);function ViewTicketsPage(){let[e,s]=(0,a.useState)([]),[t,i]=(0,a.useState)(!0),[f,y]=(0,a.useState)(!1),[N,b]=(0,a.useState)(!1),[w,C]=(0,a.useState)({searchTerm:"",status:void 0,priority:void 0,category:void 0});(0,a.useEffect)(()=>{b((0,v.C5)()),(()=>{let e=(0,j.SP)();s(e),i(!1)})()},[]);let P=(0,a.useMemo)(()=>e.filter(e=>{if(w.searchTerm){let s=w.searchTerm.toLowerCase(),t=e.title.toLowerCase().includes(s)||e.description.toLowerCase().includes(s);if(!t)return!1}return(!w.status||e.status===w.status)&&(!w.priority||e.priority===w.priority)&&(!w.category||e.category===w.category)}),[e,w]),handleStatusChange=async(t,r)=>{let a=e.map(e=>e.id===t?{...e,status:r,updatedDate:new Date().toISOString()}:e);s(a);let i=a.find(e=>e.id===t);i&&await (0,j.Tw)(i)},handleDeleteTicket=async t=>{if(window.confirm("Are you sure you want to delete this ticket?")){let r=await (0,j.M4)(t);r&&s(e.filter(e=>e.id!==t))}},getPriorityColor=e=>{switch(e){case"High":return"priority-high";case"Medium":default:return"priority-medium";case"Low":return"priority-low"}},getStatusColor=e=>{switch(e){case"Open":default:return"status-open";case"In Progress":return"status-progress";case"Closed":return"status-closed"}},getStatusIcon=e=>{switch(e){case"Open":default:return n.Z;case"In Progress":return c.Z;case"Closed":return o.Z}};return t?r.jsx("div",{className:"flex items-center justify-center min-h-96",children:r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-accent"})}):(0,r.jsxs)("div",{className:"space-y-8 fade-in",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{children:[r.jsx("div",{className:"flex items-center mb-4",children:(0,r.jsxs)(l(),{href:"/",className:"inline-flex items-center text-secondary hover:text-primary mr-4 transition-colors",children:[r.jsx(d.Z,{className:"w-4 h-4 mr-2"}),"Back to Home"]})}),r.jsx("h1",{className:"text-4xl font-bold text-primary mb-2",children:"Bug Reports & Feature Requests"}),r.jsx("p",{className:"text-secondary text-lg",children:"Track and manage all submitted reports and requests"})]}),(0,r.jsxs)(l(),{href:"/create",className:"btn-primary",children:[r.jsx(u.Z,{className:"w-4 h-4 mr-2"}),"New Report"]})]}),(0,r.jsxs)("div",{className:"card-compact",children:[(0,r.jsxs)("div",{className:"flex flex-col md:flex-row gap-4 mb-6",children:[(0,r.jsxs)("div",{className:"flex-1 search-container",children:[r.jsx("input",{type:"text",placeholder:"Search reports...",value:w.searchTerm,onChange:e=>C(s=>({...s,searchTerm:e.target.value})),className:"search-input"}),r.jsx(x.Z,{className:"search-icon w-5 h-5"})]}),(0,r.jsxs)("button",{onClick:()=>y(!f),className:"btn-secondary flex items-center",children:[r.jsx(m.Z,{className:"w-4 h-4 mr-2"}),"Filters"]})]}),f&&(0,r.jsxs)("div",{className:"border-t border-primary pt-6",children:[(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-secondary mb-3",children:"Status"}),(0,r.jsxs)("select",{value:w.status||"",onChange:e=>C(s=>({...s,status:e.target.value||void 0})),className:"form-select",children:[r.jsx("option",{value:"",children:"All Statuses"}),r.jsx("option",{value:"Open",children:"Open"}),r.jsx("option",{value:"In Progress",children:"In Progress"}),r.jsx("option",{value:"Closed",children:"Closed"})]})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-secondary mb-3",children:"Priority"}),(0,r.jsxs)("select",{value:w.priority||"",onChange:e=>C(s=>({...s,priority:e.target.value||void 0})),className:"form-select",children:[r.jsx("option",{value:"",children:"All Priorities"}),r.jsx("option",{value:"Low",children:"Low"}),r.jsx("option",{value:"Medium",children:"Medium"}),r.jsx("option",{value:"High",children:"High"})]})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-secondary mb-3",children:"Category"}),(0,r.jsxs)("select",{value:w.category||"",onChange:e=>C(s=>({...s,category:e.target.value||void 0})),className:"form-select",children:[r.jsx("option",{value:"",children:"All Categories"}),r.jsx("option",{value:"Bug Report",children:"Bug Report"}),r.jsx("option",{value:"Feature Request",children:"Feature Request"}),r.jsx("option",{value:"Access Request",children:"Access Request"}),r.jsx("option",{value:"General Support",children:"General Support"})]})]})]}),r.jsx("div",{className:"mt-6 flex justify-end",children:r.jsx("button",{onClick:()=>{C({searchTerm:"",status:void 0,priority:void 0,category:void 0})},className:"text-sm text-secondary hover:text-accent transition-colors",children:"Clear all filters"})})]})]}),(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("p",{className:"text-sm text-secondary",children:[P.length," of ",e.length," reports"]}),0===P.length&&e.length>0&&r.jsx("p",{className:"text-sm text-muted",children:"No reports match your current filters"})]}),r.jsx("div",{className:"space-y-4",children:0===P.length?(0,r.jsxs)("div",{className:"card text-center py-12",children:[r.jsx("div",{className:"w-16 h-16 bg-dark-surface-light rounded-full flex items-center justify-center mx-auto mb-4",children:r.jsx(c.Z,{className:"w-8 h-8 text-secondary"})}),r.jsx("h3",{className:"text-lg font-semibold text-primary mb-2",children:0===e.length?"No Reports Yet":"No Reports Found"}),r.jsx("p",{className:"text-secondary mb-6",children:0===e.length?"Start by creating your first bug report or feature request.":"Try adjusting your search or filter criteria."}),0===e.length&&(0,r.jsxs)(l(),{href:"/create",className:"btn-primary",children:[r.jsx(u.Z,{className:"w-4 h-4 mr-2"}),"Create First Report"]})]}):P.map(e=>{let s=getStatusIcon(e.status);return r.jsx("div",{className:"card-compact card-hover",children:(0,r.jsxs)("div",{className:"flex items-start justify-between",children:[(0,r.jsxs)("div",{className:"flex-1",children:[(0,r.jsxs)("div",{className:"flex items-center gap-3 mb-3",children:[r.jsx(s,{className:"w-5 h-5 text-secondary"}),r.jsx("h3",{className:"text-lg font-semibold text-primary",children:e.title})]}),r.jsx("p",{className:"text-secondary mb-4 leading-relaxed",children:e.description.length>150?`${e.description.substring(0,150)}...`:e.description}),(0,r.jsxs)("div",{className:"flex items-center gap-4 text-sm text-muted",children:[(0,r.jsxs)("div",{className:"flex items-center gap-1",children:[r.jsx(p.Z,{className:"w-4 h-4"}),r.jsx("span",{children:new Date(e.createdDate).toLocaleDateString()})]}),(0,r.jsxs)("div",{className:"flex items-center gap-1",children:[r.jsx(h.Z,{className:"w-4 h-4"}),r.jsx("span",{children:e.category})]}),N&&(0,r.jsxs)("div",{className:"flex items-center gap-1",children:[r.jsx(g.Z,{className:"w-4 h-4"}),r.jsx("span",{children:e.email})]})]})]}),(0,r.jsxs)("div",{className:"flex items-center gap-3 ml-6",children:[(0,r.jsxs)("div",{className:"flex flex-col items-end gap-2",children:[r.jsx("span",{className:`${getPriorityColor(e.priority)}`,children:e.priority}),r.jsx("span",{className:`${getStatusColor(e.status)}`,children:e.status})]}),N&&(0,r.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,r.jsxs)("select",{value:e.status,onChange:s=>handleStatusChange(e.id,s.target.value),className:"form-select text-sm py-1",children:[r.jsx("option",{value:"Open",children:"Open"}),r.jsx("option",{value:"In Progress",children:"In Progress"}),r.jsx("option",{value:"Closed",children:"Closed"})]}),r.jsx("button",{onClick:()=>handleDeleteTicket(e.id),className:"btn-small-secondary text-red-400 hover:text-red-300",children:"Delete"})]})]})]})},e.id)})})]})}},118:(e,s,t)=>{"use strict";t.r(s),t.d(s,{$$typeof:()=>l,__esModule:()=>i,default:()=>c});var r=t(5153);let a=(0,r.createProxy)(String.raw`C:\Cursor Development\supporthubv2\app\tickets\page.tsx`),{__esModule:i,$$typeof:l}=a,n=a.default,c=n}};var s=require("../../webpack-runtime.js");s.C(e);var __webpack_exec__=e=>s(s.s=e),t=s.X(0,[95,579,476,786,379,868],()=>__webpack_exec__(4652));module.exports=t})();