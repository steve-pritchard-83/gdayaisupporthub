(()=>{var e={};e.id=988,e.ids=[988],e.modules={5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},5528:e=>{"use strict";e.exports=require("next/dist\\client\\components\\action-async-storage.external.js")},1877:e=>{"use strict";e.exports=require("next/dist\\client\\components\\request-async-storage.external.js")},5319:e=>{"use strict";e.exports=require("next/dist\\client\\components\\static-generation-async-storage.external.js")},7310:e=>{"use strict";e.exports=require("url")},4652:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>i.a,__next_app__:()=>x,originalPathname:()=>u,pages:()=>d,routeModule:()=>m,tree:()=>o});var r=s(7096),a=s(6132),l=s(7284),i=s.n(l),n=s(2564),c={};for(let e in n)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(c[e]=()=>n[e]);s.d(t,c);let o=["",{children:["tickets",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,118)),"C:\\Cursor Development\\supporthubv2\\app\\tickets\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,8904)),"C:\\Cursor Development\\supporthubv2\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,9291,23)),"next/dist/client/components/not-found-error"]}],d=["C:\\Cursor Development\\supporthubv2\\app\\tickets\\page.tsx"],u="/tickets/page",x={require:s,loadChunk:()=>Promise.resolve()},m=new r.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/tickets/page",pathname:"/tickets",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:o}})},6708:(e,t,s)=>{Promise.resolve().then(s.bind(s,1443))},1443:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>ViewTicketsPage});var r=s(784),a=s(9885),l=s(1440),i=s.n(l),n=s(9803),c=s(2385),o=s(9518),d=s(3528);let u=(0,d.Z)("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);var x=s(1831),m=s(517);let p=(0,d.Z)("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);var h=s(7676);function ViewTicketsPage(){let[e,t]=(0,a.useState)([]),[s,l]=(0,a.useState)(!0),[d,g]=(0,a.useState)(!1),[v,y]=(0,a.useState)({searchTerm:"",status:void 0,priority:void 0,category:void 0});(0,a.useEffect)(()=>{(()=>{let e=(0,h.SP)();t(e),l(!1)})()},[]);let j=(0,a.useMemo)(()=>e.filter(e=>{if(v.searchTerm){let t=v.searchTerm.toLowerCase(),s=e.title.toLowerCase().includes(t)||e.description.toLowerCase().includes(t);if(!s)return!1}return(!v.status||e.status===v.status)&&(!v.priority||e.priority===v.priority)&&(!v.category||e.category===v.category)}).sort((e,t)=>new Date(t.createdDate).getTime()-new Date(e.createdDate).getTime()),[e,v]),updateTicketStatus=(s,r)=>{let a=e.map(e=>{if(e.id===s){let t={...e,status:r};return(0,h.Tw)(t),t}return e});t(a)},handleDeleteTicket=s=>{window.confirm("Are you sure you want to delete this ticket?")&&((0,h.M4)(s),t(e.filter(e=>e.id!==s)))},clearFilters=()=>{y({searchTerm:"",status:void 0,priority:void 0,category:void 0})},getStatusBadge=e=>{switch(e){case"Open":default:return"status-open";case"In Progress":return"status-progress";case"Closed":return"status-closed"}},getPriorityBadge=e=>{switch(e){case"Low":return"priority-low";case"Medium":default:return"priority-medium";case"High":return"priority-high"}},formatDate=e=>new Date(e).toLocaleDateString("en-AU",{day:"2-digit",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit"});return s?r.jsx("div",{className:"flex justify-center items-center py-12",children:r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-accent"})}):(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsxs)(i(),{href:"/",className:"inline-flex items-center text-grey-600 hover:text-grey-900 mb-2",children:[r.jsx(n.Z,{className:"w-4 h-4 mr-2"}),"Back to Home"]}),r.jsx("h1",{className:"text-3xl font-bold text-grey-900",children:"Support Tickets"}),r.jsx("p",{className:"text-grey-600 mt-1",children:"Manage and track all support requests"})]}),(0,r.jsxs)(i(),{href:"/create",className:"btn-primary",children:[r.jsx(c.Z,{className:"w-4 h-4 mr-2"}),"Create New Ticket"]})]}),(0,r.jsxs)("div",{className:"card",children:[(0,r.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4",children:[r.jsx("div",{className:"flex-1",children:(0,r.jsxs)("div",{className:"relative",children:[r.jsx(o.Z,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-grey-400 w-4 h-4"}),r.jsx("input",{type:"text",placeholder:"Search tickets...",value:v.searchTerm,onChange:e=>y(t=>({...t,searchTerm:e.target.value})),className:"w-full pl-10 pr-4 py-2 border border-grey-300 rounded-lg focus-ring"})]})}),(0,r.jsxs)("button",{onClick:()=>g(!d),className:"btn-outline flex items-center",children:[r.jsx(u,{className:"w-4 h-4 mr-2"}),"Filters"]})]}),d&&(0,r.jsxs)("div",{className:"mt-4 pt-4 border-t border-grey-200",children:[(0,r.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-grey-700 mb-2",children:"Status"}),(0,r.jsxs)("select",{value:v.status||"",onChange:e=>y(t=>({...t,status:e.target.value||void 0})),className:"w-full px-3 py-2 border border-grey-300 rounded-lg focus-ring",children:[r.jsx("option",{value:"",children:"All Statuses"}),r.jsx("option",{value:"Open",children:"Open"}),r.jsx("option",{value:"In Progress",children:"In Progress"}),r.jsx("option",{value:"Closed",children:"Closed"})]})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-grey-700 mb-2",children:"Priority"}),(0,r.jsxs)("select",{value:v.priority||"",onChange:e=>y(t=>({...t,priority:e.target.value||void 0})),className:"w-full px-3 py-2 border border-grey-300 rounded-lg focus-ring",children:[r.jsx("option",{value:"",children:"All Priorities"}),r.jsx("option",{value:"Low",children:"Low"}),r.jsx("option",{value:"Medium",children:"Medium"}),r.jsx("option",{value:"High",children:"High"})]})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-grey-700 mb-2",children:"Category"}),(0,r.jsxs)("select",{value:v.category||"",onChange:e=>y(t=>({...t,category:e.target.value||void 0})),className:"w-full px-3 py-2 border border-grey-300 rounded-lg focus-ring",children:[r.jsx("option",{value:"",children:"All Categories"}),r.jsx("option",{value:"Access Request",children:"Access Request"}),r.jsx("option",{value:"Technical Issue",children:"Technical Issue"}),r.jsx("option",{value:"General Support",children:"General Support"})]})]})]}),r.jsx("div",{className:"mt-4 flex justify-end",children:r.jsx("button",{onClick:clearFilters,className:"text-sm text-grey-600 hover:text-grey-900",children:"Clear all filters"})})]})]}),(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("p",{className:"text-sm text-grey-600",children:[j.length," of ",e.length," tickets"]}),0===j.length&&e.length>0&&r.jsx("button",{onClick:clearFilters,className:"text-sm text-accent hover:text-accent-dark",children:"Clear filters"})]}),0===j.length?(0,r.jsxs)("div",{className:"text-center py-12",children:[r.jsx("div",{className:"w-16 h-16 bg-grey-100 rounded-full flex items-center justify-center mx-auto mb-4",children:r.jsx(x.Z,{className:"w-8 h-8 text-grey-400"})}),r.jsx("h3",{className:"text-lg font-medium text-grey-900 mb-2",children:0===e.length?"No tickets yet":"No tickets found"}),r.jsx("p",{className:"text-grey-600 mb-6",children:0===e.length?"Create your first support ticket to get started.":"Try adjusting your search or filters."}),r.jsx(i(),{href:"/create",className:"btn-primary",children:"Create New Ticket"})]}):r.jsx("div",{className:"space-y-4",children:j.map(e=>r.jsx("div",{className:"card card-hover",children:(0,r.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-start sm:justify-between gap-4",children:[(0,r.jsxs)("div",{className:"flex-1",children:[(0,r.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[r.jsx("h3",{className:"text-lg font-semibold text-grey-900",children:e.title}),r.jsx("span",{className:`${getStatusBadge(e.status)}`,children:e.status}),r.jsx("span",{className:`${getPriorityBadge(e.priority)}`,children:e.priority})]}),r.jsx("p",{className:"text-grey-600 mb-3 line-clamp-2",children:e.description}),(0,r.jsxs)("div",{className:"flex flex-wrap items-center gap-4 text-sm text-grey-500",children:[(0,r.jsxs)("div",{className:"flex items-center",children:[r.jsx(m.Z,{className:"w-4 h-4 mr-1"}),formatDate(e.createdDate)]}),(0,r.jsxs)("div",{className:"flex items-center",children:[r.jsx(p,{className:"w-4 h-4 mr-1"}),e.category]}),(0,r.jsxs)("div",{className:"flex items-center",children:[r.jsx("span",{className:"w-2 h-2 bg-grey-400 rounded-full mr-1"}),"ID: ",e.id.slice(-6)]})]})]}),(0,r.jsxs)("div",{className:"flex flex-col sm:flex-row gap-2",children:[(0,r.jsxs)("select",{value:e.status,onChange:t=>updateTicketStatus(e.id,t.target.value),className:"px-3 py-1 text-sm border border-grey-300 rounded focus-ring",children:[r.jsx("option",{value:"Open",children:"Open"}),r.jsx("option",{value:"In Progress",children:"In Progress"}),r.jsx("option",{value:"Closed",children:"Closed"})]}),r.jsx("button",{onClick:()=>handleDeleteTicket(e.id),className:"px-3 py-1 text-sm text-black hover:text-white border border-accent rounded hover:bg-accent",children:"Delete"})]})]})},e.id))})]})}},118:(e,t,s)=>{"use strict";s.r(t),s.d(t,{$$typeof:()=>i,__esModule:()=>l,default:()=>c});var r=s(5153);let a=(0,r.createProxy)(String.raw`C:\Cursor Development\supporthubv2\app\tickets\page.tsx`),{__esModule:l,$$typeof:i}=a,n=a.default,c=n}};var t=require("../../webpack-runtime.js");t.C(e);var __webpack_exec__=e=>t(t.s=e),s=t.X(0,[717,579,432,379],()=>__webpack_exec__(4652));module.exports=s})();